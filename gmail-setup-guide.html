<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gmail App Password Setup Guide</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f8f9fa;
            line-height: 1.6;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 {
            color: #dc3545;
            text-align: center;
            margin-bottom: 30px;
        }
        .step {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #dc3545;
        }
        .step h3 {
            color: #dc3545;
            margin-top: 0;
        }
        .code {
            background: #f1f3f4;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            border: 1px solid #ddd;
            margin: 10px 0;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .btn {
            display: inline-block;
            background: #dc3545;
            color: white;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px 5px;
        }
        .btn:hover {
            background: #c82333;
        }
        .screenshot-placeholder {
            background: #e9ecef;
            border: 2px dashed #adb5bd;
            padding: 40px;
            text-align: center;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Gmail App Password Setup for BPR Absence</h1>
        
        <div class="warning">
            <strong>‚ö†Ô∏è Important:</strong> You need a Gmail App Password to automatically send password reset emails. This is different from your regular Gmail password and is more secure.
        </div>

        <div class="step">
            <h3>Step 1: Enable 2-Factor Authentication</h3>
            <p>Gmail App Passwords require 2-Factor Authentication to be enabled on your Google account.</p>
            <ol>
                <li>Go to <a href="https://myaccount.google.com" target="_blank">myaccount.google.com</a></li>
                <li>Click on <strong>Security</strong> in the left menu</li>
                <li>Find <strong>2-Step Verification</strong> and make sure it's <strong>On</strong></li>
                <li>If it's off, click to enable it and follow the setup process</li>
            </ol>
        </div>

        <div class="step">
            <h3>Step 2: Generate App Password</h3>
            <ol>
                <li>Still in Google Account Security, scroll down to find <strong>App passwords</strong></li>
                <li>Click on <strong>App passwords</strong></li>
                <li>You may need to sign in again for security</li>
                <li>In the "Select app" dropdown, choose <strong>Mail</strong></li>
                <li>In the "Select device" dropdown, choose <strong>Other (Custom name)</strong></li>
                <li>Enter: <code>BPR Absence System</code></li>
                <li>Click <strong>Generate</strong></li>
            </ol>
        </div>

        <div class="step">
            <h3>Step 3: Copy the App Password</h3>
            <p>Google will show you a 16-character app password like this:</p>
            <div class="code">abcd efgh ijkl mnop</div>
            <p><strong>Important:</strong> Copy this password immediately! Google will only show it once.</p>
        </div>

        <div class="step">
            <h3>Step 4: Update .env File</h3>
            <p>Open your <code>backend/.env</code> file and update the EMAIL_PASS line:</p>
            <div class="code">EMAIL_PASS=abcdefghijklmnop</div>
            <p><strong>Note:</strong> Remove all spaces when copying the password to the .env file.</p>
        </div>

        <div class="step">
            <h3>Step 5: Restart Backend Server</h3>
            <p>After updating the .env file, restart your backend server:</p>
            <div class="code">cd backend<br>npm start</div>
        </div>

        <div class="success">
            <strong>‚úÖ After Setup:</strong> Your BPR Absence system will automatically send professional password reset emails to users' inboxes. When users click the link in the email, it will open your Flutter app directly to the password reset page.
        </div>

        <div class="step">
            <h3>üß™ Test Your Setup</h3>
            <p>After completing the setup:</p>
            <ol>
                <li>Open your Flutter app</li>
                <li>Go to "Forgot Password"</li>
                <li>Enter: <code>septapuma@gmail.com</code></li>
                <li>Check your Gmail inbox for the reset email</li>
                <li>Click the "Reset My Password" button in the email</li>
                <li>It should open your Flutter app to the reset password page</li>
            </ol>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="https://myaccount.google.com/security" target="_blank" class="btn">
                üîó Open Google Account Security
            </a>
            <a href="mailto:support@bpr-absence.com" class="btn" style="background: #6c757d;">
                üìß Need Help?
            </a>
        </div>

        <div class="warning" style="margin-top: 30px;">
            <strong>üîí Security Note:</strong> Keep your App Password secret! It gives access to send emails from your Gmail account. Never share it or commit it to public repositories.
        </div>
    </div>
</body>
</html>